# Prometheus Docs Overview — описание WARC-архива

- **Сайт / раздел:** [Prometheus — Documentation » Introduction » Overview](https://prometheus.io/docs/introduction/overview/)
- **WARC-файл:** `prometheus-docs.warc.gz`
- **Дата и время сбора:** 26 ноября 2025 г. (по отчёту ArchiveReady)
- **Размер архива:** ≈ 3 729 Kb

## 1. Краткая характеристика раздела

Раздел **“Introduction / Overview”** — это вводная страница официальной документации Prometheus. Здесь кратко описываются:

- назначение Prometheus как системы мониторинга и алертинга;
- ключевые особенности: pull-модель сбора метрик, многомерные данные (labels), язык запросов PromQL, автономный сервер с локальным хранением, модель `time series` и т. д.;
- основные компоненты архитектуры: Prometheus server, exporters, pushgateway, Alertmanager, визуализация;
- типичные сценарии использования и принципы интеграции с сервисами.

Страница построена как типичный landing-документ документации: структурированный текст, заголовки, списки, встроенные ссылки на другие разделы (`Getting started`, подробная архитектура, настройки, примеры), а также архитектурная схема Prometheus. Вёрстка — современный статический сайт (Next.js / React), раздаётся через Cloudflare/Netlify.

Контент в основном текстовый (HTML), дополненный SVG-логотипами и архитектурной диаграммой.

## 2. Параметры сбора архива

Для архивации раздела использовалась утилита `wpull` с параметрами, согласованными с остальной коллекцией:

```bash
wpull https://prometheus.io/docs/introduction/overview/ \
  --warc-file=prometheus-docs \
  --recursive --level=1 \
  --page-requisites \
  --no-parent \
  --no-robots
````

Такой запуск:

* **захватывает сам overview и связанные страницы первого уровня** (возможно, переходы по соседним разделам introduction, вспомогательные страницы и режимы отображения);
* **подтягивает необходимые ресурсы** (CSS, JS, шрифты, SVG-изображения) для корректного рендеринга;
* **ограничивает глубину обхода** до разумного минимума, чтобы не разрастался объём WARC, но при этом сохранялась структура UI;
* **игнорирует robots.txt** в учебных целях (в реальном веб-архивировании обычно соблюдается).

## 3. Оценка архивируемости (ArchiveReady)

Для URL [https://prometheus.io/docs/introduction/overview/](https://prometheus.io/docs/introduction/overview/) был выполнен анализ сервисом ArchiveReady (отчёт от 2025-11-26 06:53:39). Итоговая оценка: 

* **Website Archivability:** 70 %
* **Accessibility:** 42 %
* **Cohesion:** 100 %
* **Metadata:** 80 %
* **Standards Compliance:** 60 %

### 3.1. HTTP-заголовки и кэширование

Сервис фиксирует следующие ключевые заголовки: 

* `Content-Type: text/html; charset=UTF-8` — корректное указание типа содержимого и кодировки.
* `Content-Encoding: gzip` — используется сжатие, что уменьшает объём передаваемых данных.
* `Cache-Control: public, max-age=14400, must-revalidate` и `Age: 1` — есть кэш-директивы, указывающие на возможность повторного использования ответа.
* `strict-transport-security: max-age=2592000; preload` — принудительное использование HTTPS.
* `Server: cloudflare`, `cf-cache-status: REVALIDATED`, `alt-svc: h3=":443"; ma=86400` — типичная связка Cloudflare/Netlify.

При этом ArchiveReady отдельно сообщает предупреждение **«HTTP caching headers are not available»**, трактуя текущую конфигурацию как недостаточно оптимальную для долгосрочной работы архивирующих ботов (вероятно, из-за специфики edge-кэша и политики revalidate). Это частично снижает оценки по **Accessibility** и **Metadata**.

### 3.2. robots.txt и sitemap

По данным отчёта:

* в `robots.txt` **нет директив `Disallow:`**, то есть формально никаких частей сайта для ботов не закрыто; это повышает оценку по **Accessibility**; 
* **в `robots.txt` отсутствует ссылка на `sitemap.xml`** — за это выставлено предупреждение;
* дополнительно: **`sitemap.xml` на сайте не обнаружен**, что даёт ошибку с нулевым рейтингом по критерию «Наличие карты сайта». 

Для единичного захвата конкретной страницы это не критично, однако отсутствие карты сайта и ссылок на неё ухудшает формальную «дружественность» к архивирующим ботам и поисковым системам.

### 3.3. Изображения и связность

ArchiveReady сообщает:

* **локальных изображений:** 3
* **удалённых (remote) изображений:** 0 

Список локальных ресурсов:

* `https://prometheus.io/_next/static/media/prometheus-logo.7aa022e5.svg` — логотип Prometheus;
* `https://prometheus.io/_next/static/media/github-logo.3b925f14.svg` — логотип GitHub;
* `https://prometheus.io/assets/docs/architecture.svg` — архитектурная схема Prometheus.

Отсутствие внешних изображений (hotlink на сторонние домены) даёт **Cohesion = 100 %**: весь визуальный контент, необходимый для понимания раздела, контролируется самим сайтом и попадёт в WARC при корректном захвате.

### 3.4. Проверка SVG-файлов (JHOVE)

Все три изображения дополнительно проверены через **JHOVE**:

* формат — **XML 1.0**, MIME-тип `text/xml`;
* кодировка — UTF-8;
* корневой элемент — `svg` в пространстве имён `http://www.w3.org/2000/svg`;
* для архитектурной схемы (`architecture.svg`) подробно фиксируются ссылки на стандартные DTD и модули SVG 1.1 (структура, атрибуты, градиенты, маски, фильтры и т. д.);
* статус всех файлов — **`Well-Formed`**, без ошибок. 

Это означает, что диаграмма и логотипы пригодны для долгосрочного хранения и воспроизведения стандартными SVG-рендерерами, что важно для цифрового сохранения.

### 3.5. Общие замечания по стандартам

Сервис также фиксирует:

* корректно определённый `Content-Type` и `Content-Encoding` (100 % по соответствующим подпунктам);
* при этом совокупная оценка **Standards Compliance = 60 %**, что отражает наличие других мелких замечаний (например, отсутствие sitemap, специфика кэш-заголовков и пр.).

В совокупности сайт демонстрирует технически корректную конфигурацию, но без «идеального» набора метаданных для ботов.

## 4. Метаданные WARC (metawarc)

Метаданные содержимого архива извлечены командой:

```bash
metawarc metadata --output metadata/prometheus-docs_meta.jsonl warcs/prometheus-docs.warc.gz
```

Файл `prometheus-docs_meta.jsonl` содержит по одной JSON-записи на каждый объект WARC (HTTP-ответ страницы, статический ресурс и т. д.). Типичные поля:

* `url` — адрес ресурса (overview-страница, связанные HTML-страницы, CSS/JS, SVG-изображения);
* `mime` — тип содержимого (например, `text/html`, `text/css`, `application/javascript`, `image/svg+xml`);
* `status` — HTTP-код ответа (200, возможные 301/302 для редиректов);
* `warc_type`, `warc_filename`, `record_length`, идентификаторы записи и прочие служебные поля.

По распределению `mime` в архиве ожидаемо доминируют:

* **`text/html`** — сама страница overview и ближайшие разделы документации;
* **`text/css`** — стили Next.js-фронтенда;
* **`application/javascript`** — бандлы клиентского кода;
* **`image/svg+xml`** — логотипы и архитектурная диаграмма.

На основе этого файла при необходимости можно:

* построить таблицу распределения по MIME-типам и расширениям;
* выделить только HTML-страницы для текстового анализа (например, извлечение документации Prometheus);
* анализировать вклад отдельных типов ресурсов в размер WARC.

Такие агрегированные сводки вписываются в общий `warc-metadata-summary.md` коллекции.

## 5. Наблюдения и выводы

* Раздел **Prometheus Introduction / Overview** — компактная, но семантически насыщенная точка входа: он объясняет базовые концепции мониторинга Prometheus и ссылается на остальные части документации. Это делает страницу удобной для включения в учебную коллекцию WARC.
* **Когезия 100 % и только локальные изображения** означают, что визуальная часть раздела полностью контролируется самим сайтом и всё необходимое для понимания архитектуры попадает в архив.
* Несмотря на наличие базовых HTTP-заголовков (`Content-Type`, `Content-Encoding`, `Cache-Control`, HSTS), **формальные метрики Accessibility/Metadata остаются умеренными (42 % и 80 %)** из-за отсутствия sitemap и явной ссылки на него в `robots.txt`, а также специфики кэш-политики.
* Валидация SVG-файлов через JHOVE подтверждает их **форматную целостность**, что важно для долгосрочного хранения архитектурной схемы Prometheus.
* Итоговая оценка **Website Archivability = 70 %** показывает, что раздел в целом хорошо поддаётся веб-архивации: один WARC-захват даёт репрезентативный срез вводной документации и архитектуры Prometheus, пригодный для дальнейшего анализа с помощью `metawarc` и других инструментов.

